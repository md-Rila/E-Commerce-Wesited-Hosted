{"version":3,"sources":["StateProvider.js","firebase.js","Header.js","Product.js","Home.js","reducer.js","Subtotal.js","CheckoutProduct.js","Checkout.js","Login.js","Orders.js","axios.js","Payment.js","App.js","reportWebVitals.js","index.js"],"names":["StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","db","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","Header","basket","user","className","to","src","alt","type","onClick","signOut","email","length","Product","id","title","image","price","rating","dispatch","Array","fill","map","_","i","item","Home","getBasketTotal","reduce","amount","state","action","index","findIndex","basketItem","newBasket","splice","console","warn","Subtotal","history","useHistory","renderText","decimalScale","displayType","thousandSeperator","prefix","e","push","CheckoutProduct","Checkout","Login","useState","setEmail","password","setPassword","onChange","target","preventDefault","signInWithEmailAndPassword","then","catch","error","alert","message","createUserWithEmailAndPassword","Orders","setOrders","useEffect","collection","doc","uid","orderBy","onSnapshot","snapshot","docs","data","instance","axios","create","baseURL","Payment","stripe","useStripe","elements","useElements","succeeded","setSucceeded","setError","disabled","setDisabled","processing","setProcessing","clientSecret","setClientSecret","a","method","url","response","getClientSecret","log","handleSubmit","event","confirmCardPayment","payment_method","card","getElement","CardElement","paymentIntent","replace","onSubmit","empty","promise","loadStripe","App","onAuthStateChanged","authUser","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8OACaA,EAAeC,0BAEfC,EAAgB,SAAC,GAAD,IAAGC,EAAH,EAAGA,QAAQC,EAAX,EAAWA,aAAcC,EAAzB,EAAyBA,SAAzB,OACzB,cAACL,EAAaM,SAAd,CAAuBC,MAAOC,qBAC1BL,EAAQC,GADZ,SAESC,KAIAI,EAAe,kBAAMC,qBAAWV,I,gBCCvCW,EADYC,IAASC,cATJ,CACrBC,OAAQ,0CACRC,WAAY,kCACZC,UAAW,kBACXC,cAAe,8BACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAGMC,YACjBC,EAAOV,IAASU,OC0CPC,MA/Cf,WAAmB,IAAD,EACqBd,IADrB,0BACNe,EADM,EACNA,OAASC,EADH,EACGA,KAQjB,OATc,KAUV,sBAAKC,UAAU,SAAf,UACI,eAAC,IAAD,CAAMC,GAAG,IAAT,UAAa,qBAAKD,UAAU,eAAeE,IAAI,qDAAqDC,IAAI,UAAxG,OACA,sBAAKH,UAAU,iBAAf,UACA,uBAAOA,UAAU,sBAAsBI,KAAK,SAC5C,cAAC,IAAD,CAAYJ,UAAU,0BAE1B,sBAAKA,UAAU,cAAf,UACI,cAAC,IAAD,CAAMC,IAAKF,GAAQ,SAAnB,SACA,sBAAKM,QAhBgB,WACtBN,GAECH,EAAKU,WAcLN,UAAU,iBADV,UAEI,uBAAMA,UAAU,wBAAhB,gBAA6CD,EAAgBA,EAAKQ,MAAf,WACnD,sBAAMP,UAAU,wBAAhB,SAAyCD,EAAK,WAAW,iBAI5D,sBAAKC,UAAU,iBAAf,UACG,sBAAMA,UAAU,wBAAhB,qBACA,sBAAMA,UAAU,wBAAhB,yBAEH,sBAAKA,UAAU,iBAAf,UACG,sBAAMA,UAAU,wBAAhB,kBACA,sBAAMA,UAAU,wBAAhB,sBAEH,cAAC,IAAD,CAAMC,GAAG,YAAT,SACA,sBAAKD,UAAU,uBAAf,UACG,cAAC,IAAD,IACA,sBAAMA,UAAU,6CAAhB,gBAA8DF,QAA9D,IAA8DA,OAA9D,EAA8DA,EAAQU,qB,YCJvEC,MAnCf,YAAuD,IAArCC,EAAoC,EAApCA,GAAKC,EAA+B,EAA/BA,MAAOC,EAAwB,EAAxBA,MAAOC,EAAiB,EAAjBA,MAAQC,EAAS,EAATA,OAAS,EAC5B/B,IAD4B,yCACxCgC,EADwC,KAelD,OACI,sBAAKf,UAAU,UAAf,UACI,sBAAKA,UAAU,gBAAf,UACI,4BAAIW,IACJ,oBAAGX,UAAU,iBAAb,UACI,2CACA,iCAASa,OAEb,qBAAKb,UAAU,kBAAf,SACKgB,MAAMF,GAAQG,OAAOC,KAAI,SAACC,EAAGC,GAAJ,OAAS,+CAK3C,qBAAKlB,IAAKU,EAAOT,IAAI,KACrB,wBAAQE,QA3BI,WAChBU,EAAS,CACLX,KAAM,gBACNiB,KAAM,CACFX,GAAIA,EACJC,MAAOA,EACPC,MAAOA,EACPC,MAAOA,EACPC,OAAQA,MAmBZ,6BC6BGQ,MA5Df,WACI,OACI,qBAAKtB,UAAU,OAAf,SACI,sBAAKA,UAAU,kBAAf,UACA,qBAAKA,UAAU,cAAcE,IAAI,uFAAuFC,IAAI,MAC5H,sBAAKH,UAAU,YAAf,UACA,cAAC,EAAD,CACAU,GAAI,IACJC,MAAM,yHACNE,MAAO,OACPD,MAAQ,6EACRE,OAAQ,IAER,cAAC,EAAD,CACAJ,GAAI,IACHC,MAAM,iGACNE,MAAO,KACPD,MAAQ,6EACRE,OAAQ,OAGT,sBAAKd,UAAU,YAAf,UACA,cAAC,EAAD,CACAU,GAAI,IACHC,MAAM,uIACNE,MAAO,KACPD,MAAQ,6EACRE,OAAQ,IAET,cAAC,EAAD,CACAJ,GAAI,IACJC,MAAM,iIACNE,MAAO,MACPD,MAAQ,6EACRE,OAAQ,IAER,cAAC,EAAD,CACAJ,GAAI,IACJC,MAAM,iIACNE,MAAO,MACPD,MAAQ,6EACRE,OAAQ,OAGR,qBAAKd,UAAU,YAAf,SACA,cAAC,EAAD,CACAU,GAAI,IACJC,MAAM,+LACNE,MAAO,MACPD,MAAQ,oIACRE,OAAQ,Y,uDCjDPS,EAAiB,SAACzB,GAAD,cAC9BA,QAD8B,IAC9BA,OAD8B,EAC9BA,EAAQ0B,QAAO,SAACC,EAAQJ,GAAT,OAAkBA,EAAKR,MAAQY,IAAS,IA0CxChD,EAzCC,SAAEiD,EAAOC,GAErB,OAAOA,EAAOvB,MACV,IAAK,gBACD,OAAO,2BACAsB,GADP,IAEI5B,OAAO,GAAD,mBAAM4B,EAAM5B,QAAZ,CAAoB6B,EAAON,SAEzC,IAAK,eACG,OAAO,2BACAK,GADP,IAEI5B,OAAQ,KAEpB,IAAK,qBACE,IAAM8B,EAAQF,EAAM5B,OAAO+B,WACvB,SAACC,GAAD,OAAgBA,EAAWpB,KAAOiB,EAAOjB,MAEzCqB,EAAS,YAAOL,EAAM5B,QAW3B,OATI8B,GAAS,EACTG,EAAUC,OAAOJ,EAAO,GAIvBK,QAAQC,KAAR,mCAC2BP,EAAOjB,GADlC,4BAIE,2BACFgB,GADL,IAEE5B,OAAQiC,IAEhB,IAAK,WACH,kCACKL,GADL,IAEE3B,KAAM4B,EAAO5B,OAEjB,QACQ,OAAO2B,ICVRS,MA3Bf,WACI,IAAMC,EAAQC,cADE,EAEItD,IAAZe,EAFQ,oBAERA,OACR,OACI,sBAAKE,UAAU,WAAf,UACA,cAAC,IAAD,CACAsC,WAAY,SAACzD,GAAD,OACR,qCACA,2CACeiB,EAAOU,OADtB,WACqC,iCAAS3B,OAE1C,wBAAOmB,UAAU,iBAAjB,UACI,uBAAOI,KAAK,aADhB,oCAKRmC,aAAc,EACd1D,MAAO0C,EAAezB,GACtB0C,YAAa,OACbC,mBAAmB,EACnBC,OAAQ,WAER,wBAAQrC,QAAS,SAAAsC,GAAC,OAAIP,EAAQQ,KAAK,aAAnC,qC,MCUOC,MAnCf,YAA8D,IAAnCnC,EAAkC,EAAlCA,GAAIE,EAA8B,EAA9BA,MAAOD,EAAuB,EAAvBA,MAAOE,EAAgB,EAAhBA,MAAOC,EAAS,EAATA,OAAS,EAErC/B,IAFqC,yCAE/CgC,EAF+C,KAUzD,OACI,sBAAKf,UAAU,kBAAf,UACK,qBAAKA,UAAU,yBAAyBE,IAAKU,EAAOT,IAAI,KACxD,sBAAKH,UAAU,wBAAf,UACI,mBAAGA,UAAU,yBAAb,SAAuCW,IACvC,oBAAGX,UAAU,yBAAb,UACI,2CACA,iCAASa,OAET,qBAAKb,UAAU,0BAAf,SACKgB,MAAMF,GACNG,OACAC,KAAI,SAACC,EAAIC,GAAL,OACD,4CAMJ,wBAAQf,QA1BJ,WACrBU,EAAS,CACLX,KAAO,qBACPM,GAAKA,KAuBQ,uCCFVoC,MA1Bf,WAAqB,IAAD,EACS/D,IADT,sBACPe,EADO,EACPA,OAAQC,EADD,EACCA,KACjB,OACI,sBAAMC,UAAU,WAAhB,UACI,sBAAKA,UAAU,iBAAf,UACA,qBAAKA,UAAU,eAAeE,IAAI,+FAA+FC,IAAI,KACjI,gCACI,6CAASJ,QAAT,IAASA,OAAT,EAASA,EAAMQ,SACf,oBAAIP,UAAU,kBAAd,kCACCF,EAAOoB,KAAI,SAAAG,GAAI,OACZ,cAAC,EAAD,CACAX,GAAIW,EAAKX,GACTC,MAAOU,EAAKV,MACZC,MAAOS,EAAKT,MACZC,MAAOQ,EAAKR,MACZC,OAAQO,EAAKP,kBAKrB,qBAAKd,UAAU,kBAAf,SACG,cAAC,EAAD,U,MC0CJ+C,MA/Df,WACI,IAAMX,EAAUC,cADH,EAEaW,mBAAS,IAFtB,mBAENzC,EAFM,KAEC0C,EAFD,OAGmBD,mBAAS,IAH5B,mBAGNE,EAHM,KAGIC,EAHJ,KA8Bb,OACI,sBAAKnD,UAAU,QAAf,UACI,cAAC,IAAD,CAAMC,GAAG,IAAT,SACI,qBACID,UAAU,cACVE,IAAI,2GAIZ,sBAAKF,UAAU,mBAAf,UACI,yCAEA,iCACI,wCACA,uBAAOI,KAAK,OAAOvB,MAAO0B,EAAO6C,SAAU,SAAAT,GAAC,OAAIM,EAASN,EAAEU,OAAOxE,UAElE,0CACA,uBAAOuB,KAAK,WAAWvB,MAAOqE,EAAUE,SAAU,SAAAT,GAAC,OAAIQ,EAAYR,EAAEU,OAAOxE,UAE5E,wBAAQwB,QA5CT,SAAAsC,GACXA,EAAEW,iBAEF1D,EACK2D,2BAA2BhD,EAAO2C,GAClCM,MAAK,SAAA5D,GACFwC,EAAQQ,KAAK,QAEhBa,OAAM,SAAAC,GAAK,OAAIC,MAAMD,EAAME,aAoCK5D,UAAU,sBAAnC,wBAGJ,gMAKA,wBAAQK,QAzCH,SAAAsC,GACbA,EAAEW,iBAEF1D,EACKiE,+BAA+BtD,EAAO2C,GACtCM,MAAK,SAAC5D,GAECA,GACAwC,EAAQQ,KAAK,QAGpBa,OAAM,SAAAC,GAAK,OAAIC,MAAMD,EAAME,aA8BG5D,UAAU,wBAArC,+C,MCpBD8D,MApCf,WAAmB,IAAD,EACqB/E,IADrB,0BACCgB,GADD,EACPD,OADO,EACCC,MADD,QAEYiD,mBAAS,KAFrB,mBAEDe,GAFC,WAuBd,OAnBFC,qBAAU,WACLjE,EACCd,EACCgF,WAAW,SACXC,IAFD,OAEKnE,QAFL,IAEKA,OAFL,EAEKA,EAAMoE,KACVF,WAAW,UACXG,QAAQ,UAAW,QACnBC,YAAW,SAAAC,GAAQ,OAChBP,EAAUO,EAASC,KAAKrD,KAAI,SAAAgD,GAAG,MAAK,CAChCxD,GAAIwD,EAAIxD,GACR8D,KAAMN,EAAIM,eAIlBT,EAAU,MAGb,CAAChE,IAGE,qBAAKC,UAAU,SAAf,SACI,gD,iDCzBGyE,E,OAJEC,EAAMC,OAAO,CAC1BC,QAAS,0DCyHEC,MAnHf,WAAoB,IAAD,EACkB9F,IADlB,0BACPe,EADO,EACPA,OAASC,EADF,EACEA,KAAMgB,EADR,KAET+D,EAAOC,sBACP3C,EAAQC,cACR2C,EAASC,wBAJA,EAMiBjC,oBAAS,GAN1B,mBAMRkC,EANQ,KAMGC,EANH,OAOSnC,mBAAS,MAPlB,mBAORU,EAPQ,KAOD0B,EAPC,OAQepC,oBAAS,GARxB,mBAQRqC,EARQ,KAQEC,EARF,OASmBtC,mBAAS,IAT5B,mBASRuC,EATQ,KASIC,EATJ,OAUuBxC,oBAAS,GAVhC,mBAURyC,EAVQ,KAUMC,EAVN,KAYf1B,qBAAU,YAEe,uCAAC,4BAAA2B,EAAA,sEACKjB,EAAM,CACzBkB,OAAQ,OACRC,IAAI,0BAAD,OAAqD,IAAzBtE,EAAezB,MAHhC,OACZgG,EADY,OAKlBJ,EAAgBI,EAAStB,KAAKiB,cALZ,2CAAD,qDAOrBM,KACD,CAACjG,IAEJmC,QAAQ+D,IAAI,oBAAqBP,GAEjC,IAAMQ,EAAY,uCAAG,WAAOC,GAAP,SAAAP,EAAA,6DACjBO,EAAM5C,iBACNkC,GAAc,GAFG,SAIKV,EAAOqB,mBAAmBV,EAAe,CAC3DW,eAAgB,CACZC,KAAMrB,EAASsB,WAAWC,kBAE/B/C,MAAK,YAAsB,EAAnBgD,cACPrB,GAAa,GACbC,EAAS,MACTI,GAAc,GACdzE,EAAS,CACLX,KAAM,iBAEVgC,EAAQqE,QAAQ,cAfH,yDAAH,sDAsBlB,OACA,qBAAKzG,UAAU,UAAf,SACI,sBAAKA,UAAU,qBAAf,UACA,4CACc,eAAC,IAAD,CAAMC,GAAG,YAAT,iBAAsBH,QAAtB,IAAsBA,OAAtB,EAAsBA,EAAQU,OAA9B,YADd,OAII,sBAAKR,UAAU,mBAAf,UACA,qBAAKA,UAAU,iBAAf,SACI,oDAEJ,sBAAKA,UAAU,mBAAf,UACI,mCAAID,QAAJ,IAAIA,OAAJ,EAAIA,EAAMQ,QACV,qDACA,iEAIJ,sBAAKP,UAAU,mBAAf,UACK,qBAAKA,UAAU,iBAAf,SACI,6DAEJ,qBAAKA,UAAU,iBAAf,SACIF,EAAOoB,KAAK,SAAAG,GAAI,OACb,cAAC,EAAD,CACAX,GAAIW,EAAKX,GACTC,MAAOU,EAAKV,MACZC,MAAOS,EAAKT,MACZC,MAAOQ,EAAKR,MACZC,OAAQO,EAAKP,iBAMzB,sBAAKd,UAAU,mBAAf,UACK,qBAAKA,UAAU,iBAAf,SACI,kDAEJ,qBAAKA,UAAU,mBAAf,SACO,uBAAM0G,SAAUT,EAAhB,UACI,cAAC,cAAD,CAAa7C,SA7ChB,SAAA8C,GACjBZ,EAAYY,EAAMS,OAClBvB,EAASc,EAAMxC,MAAQwC,EAAMxC,MAAME,QAAU,OA4CzB,sBAAK5D,UAAU,0BAAf,UACA,cAAC,IAAD,CACpBsC,WAAY,SAACzD,GAAD,OACR,gDAAmBA,MAEvB0D,aAAc,EACd1D,MAAO0C,EAAezB,GACtB0C,YAAa,OACbC,mBAAmB,EACnBC,OAAQ,WAER,wBAAQ2C,SAAUE,GAAcF,GAAYH,EAA5C,SACI,+BAAOK,EAAa,2CAAkB,iBAGrB7B,GAAS,8BAAMA,kB,QCrGtCkD,EAAUC,YACd,+GAoDaC,MAnDf,WAAgB,IAAD,EACO/H,IADP,yCACHgC,EADG,KAqBb,OAnBEiD,qBAAU,WACRpE,EAAKmH,oBAAmB,SAAAC,GAIpBjG,EAFCiG,EAEQ,CACR5G,KAAM,WACLL,KAAMiH,GAKC,CACR5G,KAAM,WACLL,KAAM,YAIZ,IAEF,cAAC,IAAD,UACA,qBAAKC,UAAU,MAAf,SACE,eAAC,IAAD,WACE,eAAC,IAAD,CAAOiH,KAAK,UAAZ,UACE,cAAC,EAAD,IACA,cAAC,EAAD,OAEJ,cAAC,IAAD,CAAOA,KAAK,SAAZ,SACI,cAAC,EAAD,MAEF,eAAC,IAAD,CAAOA,KAAK,YAAZ,UACA,cAAC,EAAD,IACE,cAAC,EAAD,OAEF,eAAC,IAAD,CAAOA,KAAK,WAAZ,UACA,cAAC,EAAD,IACA,cAAC,WAAD,CAAUnC,OAAQ8B,EAAlB,SACA,cAAC,EAAD,SAGE,eAAC,IAAD,CAAOK,KAAK,IAAZ,UACA,cAAC,EAAD,IACA,cAAC,EAAD,eC/CKC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqB5D,MAAK,YAAkD,IAA/C6D,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCCdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,CAAelJ,aVVS,CACxBoB,OAAQ,GACRC,KAAK,MUQsCtB,QAASA,EAApD,SACA,cAAC,EAAD,QAGFoJ,SAASC,eAAe,SAM1BZ,K","file":"static/js/main.5f62a3e5.chunk.js","sourcesContent":["import React, { createContext ,useContext ,useReducer } from \"react\";\r\nexport const StateContext = createContext();\r\n\r\nexport const StateProvider = ({ reducer,initialState, children}) => (\r\n    <StateContext.Provider value={useReducer(\r\n        reducer,initialState)}>\r\n            {children}\r\n        </StateContext.Provider>\r\n);\r\n\r\nexport const useStateValue= () => useContext(StateContext);","import firebase from \"firebase\";\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyAXpAtJjljTNii-k7uCW322CpSOAz56jB8\",\r\n  authDomain: \"challenge-470fd.firebaseapp.com\",\r\n  projectId: \"challenge-470fd\",\r\n  storageBucket: \"challenge-470fd.appspot.com\",\r\n  messagingSenderId: \"394990208991\",\r\n  appId: \"1:394990208991:web:8f5541e5d8b1262771666a\",\r\n  measurementId: \"G-G1WZMBSBW8\"\r\n};\r\nconst firebaseApp=firebase.initializeApp(firebaseConfig);\r\nconst db = firebaseApp.firestore();\r\nconst auth = firebase.auth();\r\n \r\n\r\nexport { db , auth }; \r\n","import React from 'react'\r\nimport './Header.css'\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport {Link} from \"react-router-dom\"\r\nimport { auth } from \"./firebase\"\r\nfunction Header() {\r\n    const [{basket , user},dispatch] = useStateValue();\r\n    const handleAuthentication = () => {\r\n        if(user)\r\n        {\r\n            auth.signOut(); \r\n        }\r\n    }\r\n    //console.log(\"Rila the user is >>>>\",user);\r\n    return (\r\n        <div className='header'>\r\n            <Link to=\"/\"><img className=\"header__logo\" src=\"https://pngimg.com/uploads/amazon/amazon_PNG11.png\" alt=\"sorry\" /> </Link>\r\n            <div className=\"header__search\">\r\n            <input className=\"header__searchInput\" type=\"text\"/>\r\n            <SearchIcon className=\"header__searchIcon\" />\r\n            </div>\r\n        <div className=\"header__nav\">\r\n            <Link to={!user && '/login'}>\r\n            <div onClick={handleAuthentication}\r\n            className=\"header__option\">\r\n                <span className=\"header__optionLineOne\">Hi {!user? 'Guest' : user.email}</span>\r\n                <span className=\"header__optionLineTwo\">{user?\"Sign Out\":'Sign In'}</span>\r\n                \r\n             </div>\r\n             </Link>\r\n             <div className=\"header__option\">\r\n                <span className=\"header__optionLineOne\">Returns</span>\r\n                <span className=\"header__optionLineTwo\">& orders</span>\r\n             </div>\r\n             <div className=\"header__option\">\r\n                <span className=\"header__optionLineOne\">Your</span>\r\n                <span className=\"header__optionLineTwo\">Prime</span>\r\n             </div>\r\n             <Link to=\"/checkout\">\r\n             <div className=\"header__optionBasket\">\r\n                <ShoppingCartIcon />\r\n                <span className=\"header__optionLineTwo  header__basketCount\">{basket?.length}</span>\r\n                 </div>\r\n                 </Link>\r\n\r\n            </div>\r\n            \r\n        </div>\r\n        \r\n        )\r\n}\r\n\r\nexport default Header\r\n","import React from 'react'\r\nimport './Product.css';\r\nimport {useStateValue} from \"./StateProvider\";\r\nimport StarRateIcon from '@material-ui/icons/StarRate';\r\nfunction Product({id , title ,image ,price , rating}) {\r\n    const[ {},dispatch] = useStateValue(); \r\n    // console.log(\"Baket Items >>>\",basket)\r\n    const addToBasket = () => {\r\n        dispatch({\r\n            type: \"ADD_TO_BASKET\",\r\n            item: {\r\n                id: id,\r\n                title: title,\r\n                image: image,\r\n                price: price,\r\n                rating: rating,\r\n            },\r\n        })\r\n    } \r\n    return (\r\n        <div className=\"product\">\r\n            <div className=\"product__info\">\r\n                <p>{title}</p>\r\n                <p className=\"product__price\">\r\n                    <small>₹</small>\r\n                    <strong>{price}</strong>\r\n                </p>\r\n                <div className=\"product__rating\">\r\n                    {Array(rating).fill().map((_, i)=>(<p>⭐</p>\r\n                    ))}\r\n                    \r\n                </div>\r\n            </div>\r\n            <img src={image} alt=\"\"/>\r\n            <button onClick={addToBasket}>Add to Cart</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Product;\r\n","import React from 'react'\r\nimport \"./Home.css\";\r\nimport Product from './Product.js';\r\nfunction Home() {\r\n    return (\r\n        <div className=\"home\">\r\n            <div className=\"home__container\">\r\n            <img className=\"home__image\" src=\"https://ww1.tigo.com.hn/sites/tigowebcorp.hn/files/amazon-prime-banner-junio2020.png\" alt=\" \"/>\r\n            <div className=\"home__row\">\r\n            <Product\r\n            id= \"1\"\r\n            title=\"PTron Blutooth 5.0 Vivo V20 Pro 5G (Midnight Jazz, 8GB RAM, 128GB Storage) with No Cost EMI/Additional Exchange Offers\" \r\n            price={700.05}\r\n            image=  \"https://m.media-amazon.com/images/I/51YMl+OstqL._AC_UY327_FMwebp_QL65_.jpg\"\r\n            rating={5}\r\n             />\r\n            <Product\r\n            id= \"2\"\r\n             title=\"OnePlus Bullets Blutooth Headset with werable mic and bla bla hardwares that doesn't exist now\" \r\n             price={1999.00}\r\n             image=  \"https://m.media-amazon.com/images/I/616bhfyXimL._AC_UY327_FMwebp_QL65_.jpg\"\r\n             rating={5} \r\n             />\r\n            </div>\r\n            <div className=\"home__row\">\r\n            <Product \r\n            id= \"3\"\r\n             title=\"OnePlus Bullets Blutooth Headset Vivo V20 Pro 5G (Midnight Jazz, 8GB RAM, 128GB Storage) with No Cost EMI/Additional Exchange Offers\" \r\n             price={1999.00}\r\n             image=  \"https://m.media-amazon.com/images/I/71-Su4Wr0HL._AC_UY327_FMwebp_QL65_.jpg\"\r\n             rating={5} \r\n             />\r\n            <Product \r\n            id= \"4\"\r\n            title=\"SONY BRAVIA 43inch(KLV432) Vivo V20 Pro 5G (Midnight Jazz, 8GB RAM, 128GB Storage) with No Cost EMI/Additional Exchange Offers\"\r\n            price={43999.00}\r\n            image=  \"https://m.media-amazon.com/images/I/81lpllAGcBL._AC_UY327_FMwebp_QL65_.jpg\"\r\n            rating={4} \r\n            />\r\n            <Product\r\n            id= \"5\"\r\n            title=\"SONY BRAVIA 43inch(KLV432) Vivo V20 Pro 5G (Midnight Jazz, 8GB RAM, 128GB Storage) with No Cost EMI/Additional Exchange Offers\"\r\n            price={43999}\r\n            image=  \"https://m.media-amazon.com/images/I/81lpllAGcBL._AC_UY327_FMwebp_QL65_.jpg\"\r\n            rating={4} \r\n            />            \r\n                </div>\r\n            <div className=\"home__row\">\r\n            <Product \r\n            id= \"6\"\r\n            title=\"SONY BRAVIA 43inch(KLV432) WIDE ANGLE WITH IPS DISPLAY ALSO A REMOTE WITH SMART FEATURES Vivo V20 Pro 5G (Midnight Jazz, 8GB RAM, 128GB Storage) with No Cost EMI/Additional Exchange Offers\"\r\n            price={43999}\r\n            image=  \"https://encrypted-tbn1.gstatic.com/shopping?q=tbn:ANd9GcTwGW_oXsQU0rmLJcSyZ4Yqrx0JYByk0EoSBMJ8gpeZtQeW0Cu4mbStCPxvKUTuzw&usqp=CAc\"\r\n            rating={4} \r\n            />\r\n            \r\n            \r\n            </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","export const initialState = {\r\n    basket: [],\r\n    user:null\r\n};\r\nexport const getBasketTotal = (basket) => \r\nbasket?.reduce((amount, item) => item.price + amount , 0); \r\nconst reducer = ( state ,action )=>{\r\n    //console.log(action)\r\n    switch(action.type){\r\n        case \"ADD_TO_BASKET\":\r\n            return {\r\n                ...state,\r\n                basket: [...state.basket ,action.item],\r\n                    };\r\n        case \"EMPTY_BASKET\":\r\n                return {\r\n                    ...state,\r\n                    basket :[]\r\n                }\r\n        case \"REMOVE_FROM_BASKET\":\r\n               const index = state.basket.findIndex(\r\n                   (basketItem) => basketItem.id === action.id\r\n               );\r\n               let newBasket = [...state.basket];\r\n\r\n              if (index >= 0) {\r\n                  newBasket.splice(index, 1);\r\n\r\n              }\r\n              else {\r\n                   console.warn(\r\n                  `Cant remove product (id: ${action.id}) as its not in basket!`\r\n                    )\r\n                   }\r\n              return {\r\n                ...state,\r\n                basket: newBasket\r\n                    }\r\n        case \"SET_USER\":\r\n          return{\r\n            ...state,\r\n            user: action.user\r\n          }\r\n        default:\r\n                return state;\r\n    }\r\n};\r\nexport default reducer;","import React from 'react'\r\nimport \"./Subtotal.css\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport CurrencyFormat from \"react-currency-format\";\r\nimport { getBasketTotal } from './reducer.js';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nfunction Subtotal() {\r\n    const history=useHistory(); \r\n    const [{basket} ] = useStateValue();\r\n    return (\r\n        <div className=\"subtotal\">\r\n        <CurrencyFormat\r\n        renderText={(value)=>(\r\n            <>\r\n            <p>\r\n                Subtotal ({basket.length} items):<strong>{value}</strong>\r\n                </p>            \r\n                <small className=\"subtotal__gift\">\r\n                    <input type=\"checkbox\" />This order conatins a gift\r\n                </small>\r\n                </>\r\n        )}\r\n        decimalScale={2}\r\n        value={getBasketTotal(basket)}\r\n        displayType={\"text\"}\r\n        thousandSeperator={true}\r\n        prefix={\"₹\"}\r\n        />           \r\n        <button onClick={e => history.push('/payment')}>Proceed to checkout</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Subtotal\r\n","import React from 'react'\r\nimport \"./CheckoutProduct.css\"\r\nimport StarRateIcon from '@material-ui/icons/StarRate';\r\nimport { useStateValue } from \"./StateProvider\";\r\nfunction CheckoutProduct({ id ,image ,title ,price ,rating}) {\r\n    //const [{ basket },dispatch]=useStateValue();\r\n    const [{},dispatch]=useStateValue();\r\n    const removeFromBasket = () => {\r\n        dispatch({\r\n            type : 'REMOVE_FROM_BASKET',\r\n            id : id,\r\n             \r\n        })\r\n    }\r\n    return (\r\n        <div className=\"checkoutProduct\">\r\n             <img className=\"checkoutProduct__image\" src={image} alt=\"\"/>\r\n             <div className=\"checkoutProduct__info\">\r\n                 <p className=\"checkoutProduct__title\">{title}</p>\r\n                 <p className=\"checkoutProduct__prive\">\r\n                     <small>₹</small>\r\n                     <strong>{price}</strong>\r\n                     </p>\r\n                     <div className=\"checkoutProduct__rating\">\r\n                         {Array(rating)\r\n                         .fill()\r\n                         .map((_ , i)=> (\r\n                             <p>\r\n                                ⭐\r\n                             </p>\r\n\r\n                         ))}\r\n                         </div>\r\n                         <button onClick={removeFromBasket}>Remove from Basket</button>         \r\n                </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CheckoutProduct\r\n","import React from 'react'\r\nimport \"./Checkout.css\";\r\nimport Subtotal from \"./Subtotal.js\"\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport CheckoutProduct from \"./CheckoutProduct\";\r\nfunction Checkout() {\r\n    const [{ basket ,user }]=useStateValue();\r\n    return (\r\n        <div  className=\"checkout\">\r\n            <div className=\"checkout__left\">\r\n            <img className=\"checkout__ad\" src=\"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg\" alt=\"\"/>\r\n                <div>\r\n                    <h2>Hi ,{user?.email}</h2>\r\n                    <h2 className=\"checkout__title\">Your Shopping Basket</h2>\r\n                    {basket.map(item => (\r\n                        <CheckoutProduct \r\n                        id={item.id}\r\n                        title={item.title}\r\n                        image={item.image}\r\n                        price={item.price}\r\n                        rating={item.rating}\r\n                        />\r\n                    ))}\r\n                </div>\r\n            </div>\r\n                <div className=\"checkout__right\">\r\n                   <Subtotal />\r\n                </div>\r\n        </div>\r\n    );\r\n}\r\nexport default Checkout;","import React, { useState } from 'react';\r\nimport './Login.css'\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { auth } from \"./firebase\";\r\n\r\nfunction Login() {\r\n    const history = useHistory();\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    const signIn = e => {\r\n        e.preventDefault();\r\n\r\n        auth\r\n            .signInWithEmailAndPassword(email, password)\r\n            .then(auth => {\r\n                history.push('/')\r\n            })\r\n            .catch(error => alert(error.message))\r\n    }\r\n\r\n    const register = e => {\r\n        e.preventDefault();\r\n\r\n        auth\r\n            .createUserWithEmailAndPassword(email, password)\r\n            .then((auth) => {\r\n                // it successfully created a new user with email and password\r\n                if (auth) {\r\n                    history.push('/')\r\n                }\r\n            })\r\n            .catch(error => alert(error.message))\r\n    }\r\n\r\n    return (\r\n        <div className='login'>\r\n            <Link to='/'>\r\n                <img\r\n                    className=\"login__logo\"\r\n                    src='https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png' \r\n                />\r\n            </Link>\r\n\r\n            <div className='login__container'>\r\n                <h1>Sign-in</h1>\r\n\r\n                <form>\r\n                    <h5>E-mail</h5>\r\n                    <input type='text' value={email} onChange={e => setEmail(e.target.value)} />\r\n\r\n                    <h5>Password</h5>\r\n                    <input type='password' value={password} onChange={e => setPassword(e.target.value)} />\r\n\r\n                    <button onClick={signIn} className='login__signInButton'>Sign In</button>\r\n                </form>\r\n\r\n                <p>\r\n                    By signing-in you agree to the AMAZON FAKE CLONE Conditions of Use & Sale. Please\r\n                    see our Privacy Notice, our Cookies Notice and our Interest-Based Ads Notice.\r\n                </p>\r\n\r\n                <button onClick={register} className='login__registerButton'>Create your Amazon Account</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login","import React, { useState, useEffect } from 'react';\r\nimport { db } from \"./firebase\";\r\nimport './Orders.css'\r\nimport { useStateValue } from \"./StateProvider\";\r\n//import Order from './Order'\r\n\r\nfunction Orders() {\r\n  const [{ basket, user }, dispatch] = useStateValue();\r\n  const [orders, setOrders] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if(user) {\r\n        db\r\n        .collection('users')\r\n        .doc(user?.uid)\r\n        .collection('orders')\r\n        .orderBy('created', 'desc')\r\n        .onSnapshot(snapshot => (\r\n            setOrders(snapshot.docs.map(doc => ({\r\n                id: doc.id,\r\n                data: doc.data()\r\n            })))\r\n        ))\r\n    } else {\r\n        setOrders([])\r\n    }\r\n\r\n  }, [user])\r\n\r\n    return (\r\n        <div className='orders'>\r\n            <h1>Your Orders</h1>\r\n{/* \r\n            // <div className='orders__order'>\r\n                {orders?.map(order => (\r\n                    //<Order order={order} />\r\n                ))}\r\n            </div> */}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Orders","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'http://localhost:5001/challenge-470fd/us-central1/api'\r\n});\r\n\r\nexport default instance;","import React, {useState ,useEffect} from 'react'\r\nimport CheckoutProduct from './CheckoutProduct';\r\nimport './Payment.css'\r\nimport { useStateValue } from './StateProvider';\r\nimport CurrencyFormat from \"react-currency-format\";\r\nimport { getBasketTotal } from './reducer.js';\r\nimport {Link , useHistory } from \"react-router-dom\";\r\nimport { CardElement,useStripe,useElements } from \"@stripe/react-stripe-js\"\r\nimport axios from \"./axios\";\r\nfunction Payment() {\r\n    const [{basket , user},dispatch]=useStateValue();\r\n    const stripe=useStripe();\r\n    const history=useHistory(); \r\n    const elements=useElements();\r\n\r\n    const [succeeded, setSucceeded]=useState(false);\r\n    const [error ,setError]=useState(null);\r\n    const [disabled ,setDisabled]=useState(true);\r\n    const [processing ,setProcessing]=useState(\"\");\r\n    const [clientSecret ,setClientSecret]=useState(true);\r\n    \r\n    useEffect(() => {\r\n\r\n        const getClientSecret=async () => {\r\n            const response = await axios({\r\n                method: 'post',\r\n                url: `/payments/create?total=${getBasketTotal(basket) * 100}`\r\n            }) \r\n            setClientSecret(response.data.clientSecret); \r\n        }\r\n        getClientSecret();\r\n    }, [basket])\r\n    \r\n    console.log(\"The Secret is >>>\", clientSecret);\r\n\r\n    const handleSubmit = async (event) =>{\r\n        event.preventDefault();\r\n        setProcessing(true);\r\n        \r\n        const payload = await stripe.confirmCardPayment(clientSecret , {\r\n            payment_method: {\r\n                card: elements.getElement(CardElement) \r\n            }\r\n        }).then(({ paymentIntent })=> {\r\n            setSucceeded(true);\r\n            setError(null);\r\n            setProcessing(false);\r\n            dispatch({\r\n                type :'EMPTY_BASKET'\r\n            })\r\n            history.replace('/orders')\r\n        })\r\n    }\r\n    const handleChange = event =>{\r\n        setDisabled(event.empty);\r\n        setError(event.error ? event.error.message : \"\");\r\n    }\r\n    return (\r\n    <div className=\"payment\">\r\n        <div className=\"payment__container\"> \r\n        <h1>\r\n            Checkout (<Link to=\"/checkout\">{basket?.length} items</Link>)\r\n        </h1>\r\n            {/* {payment section} */}\r\n            <div className=\"payment__section\">   \r\n            <div className='payment__title'>\r\n                <h3>Delivery Address</h3>    \r\n            </div>\r\n            <div className=\"payment__address\">\r\n                <p>{user?.email}</p>\r\n                <p>10B ,Mudhali Thottam</p>\r\n                <p>PeriaSemur ,Erode- 638 004</p>\r\n            </div>\r\n            </div>\r\n            {/* {payment section} */}\r\n            <div className=\"payment__section\"> \r\n                 <div className=\"payment__title\">\r\n                     <h3>Review items and delivery</h3>\r\n                 </div>\r\n                 <div className=\"payment__items\">\r\n                    {basket.map( item => (\r\n                        <CheckoutProduct\r\n                        id={item.id}\r\n                        title={item.title}\r\n                        image={item.image}\r\n                        price={item.price}\r\n                        rating={item.rating}\r\n                        />\r\n                    ))}\r\n                 </div>\r\n            </div>\r\n            {/* {payment section} */}\r\n            <div className=\"payment__section\"> \r\n                 <div className=\"payment__title\">\r\n                     <h3>Payment Method</h3>\r\n                 </div>\r\n                 <div className=\"payment__details\">\r\n                        <form onSubmit={handleSubmit}>\r\n                            <CardElement onChange={handleChange}/>\r\n                            <div className=\"payment__priceContainer\">\r\n                            <CurrencyFormat\r\n        renderText={(value)=>(\r\n            <h3>Order Total : {value}</h3>              \r\n        )}\r\n        decimalScale={2}\r\n        value={getBasketTotal(basket)}\r\n        displayType={\"text\"}\r\n        thousandSeperator={true}\r\n        prefix={\"₹\"}\r\n        />       \r\n        <button disabled={processing || disabled || succeeded}>\r\n            <span>{processing ? <p>Processing</p>:\"Buy Now\"}</span>\r\n            </button>    \r\n                            </div>\r\n                            {error && <div>{error}</div>}\r\n                        </form>\r\n                 </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Payment","import React,{useEffect} from \"react\";\nimport './App.css';\nimport Header from './Header.js'\nimport Home from './Home'\nimport {BrowserRouter as Router ,Switch ,Route} from \"react-router-dom\";\nimport Checkout from './Checkout'\nimport Login from './Login';\nimport Orders from \"./Orders\";\nimport { auth } from \"./firebase\";\nimport { useStateValue } from \"./StateProvider\";\nimport Payment from './Payment.js'; \nimport { loadStripe } from  \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nconst promise = loadStripe(\n  \"pk_test_51I5YzPCoZ1cgYGsRmR7Qz1tQOHtnopNL4lIG49Ch2XYcVu133EkNWuNhDAiztiC2F1fUbsKtdCebSQHNVhZgKX0900EAvryhlT\");\nfunction App() {\n  const [{},dispatch]=useStateValue();\n    useEffect(()=>{    \n      auth.onAuthStateChanged(authUser => {\n        //console.log('The User is >>>>',authUser); \n        if(authUser)\n        {\n          dispatch({\n           type: 'SET_USER',\n            user: authUser,\n          });\n        }\n        else\n        {\n          dispatch({\n           type: 'SET_USER',\n            user: null,\n        })\n        }\n      })\n    },[]);\n  return (\n    <Router>\n    <div className=\"app\">\n      <Switch>\n        <Route path=\"/orders\">\n          <Header />\n          <Orders />\n        </Route>\n      <Route path=\"/login\">\n          <Login/>\n        </Route>\n        <Route path=\"/checkout\">\n        <Header />\n          <Checkout/>\n          </Route>\n        <Route path=\"/payment\">\n        <Header />\n        <Elements stripe={promise}>\n        <Payment/>\n        </Elements>\n          </Route>\n          <Route path=\"/\">    \n          <Header />\n          <Home />    \n          </Route>\n      </Switch>\n    </div>\n    </ Router>\n  );\n}\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport reducer, { initialState } from \"./reducer\";\nimport {StateProvider} from './StateProvider';\n// import * as serviceWorker from \"./serviceWorker\";\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider initialState={initialState} reducer={reducer}>\n    <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}